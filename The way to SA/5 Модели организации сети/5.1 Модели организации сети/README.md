
# OSI

Модель OSI (Open System Interconnection), или эталонная модель взаимодействия открытых систем описывает, как устройства в локальных и глобальных сетях обмениваются данными и что происходит с этими данными. Её предложили в 1984 году инженеры из Международной организации по стандартизации (ISO), которая работала над единым стандартом передачи данных по интернету.

При этом сама по себе эталонная модель - не стандарт интернета, как, например, ТСР/Р; её можно сравнить с фреймворками в мире языков программирования: в OSI «из коробки» доступны разные веб-стандарты - UDP, НТТР, FTP, Telnet и другие. Всего таких протоколов - более 100 штук.

Модель OSI включает семь слоёв, или уровней, - причём каждый из них выполняет определённую функцию: например, передать данные или представить их в понятном для человека виде на компьютере. Кстати, у каждого слоя - свой набор протоколов.


![5.0 Модель OSI](attachments/5.0%20Модель%20OSI.png)

---

# 1-й уровень OSI - физический

На самом нижнем уровне модели OSI данные представляют собой физические объекты - ток, свет или радиоволны. Они передаются по проводам или с помощью беспроводных сигналов.

Этот слой работает с кабелями, контактами в разьёмах, модуляцией сигнала, кодированием единиц и нулей и другими низкоуровневыми штуками. По сути, первый уровень - это уровень проводов и физических способов передачи сигнала.

**Назначение: представление битов информации в виде сигналов.**

![5.1-й уровень OSI - физический](attachments/5.1-й%20уровень%20OSI%20-%20физический.png)


## Стандарты
 
- **RS-232:** стандарт для последовательного обмена данными. (это не разъем как обычно считают, DE-9 это разъем, а RS-232 это стандарт)
- **V.34:** стандарт для модемов, который определяет методы модуляции для передачи данных по телефонным линиям со скоростью до 33.6 Кбит/с.
- **100BASE-TX:** стандарт для передачи данных по витой паре на скорости 100 Мбит/с.
- **802.11:** набор стандартов для беспроводных сетей.

---

# 2-й уровень OSI - канальный

Над физическим уровнем располагается канальный. Его задача - проверить целостность полученных данных и исправить ошибки. Этот уровень «поумнее» предыдущего: он уже понимает, что разные амплитуды напряжений отвечают разным битам - нулям и единицам. А ещё канальный уровень умеет кодировать сигналы в биты и передавать их дальше.

Полученные с нижнего уровня данные делятся на фреймы, или кадры. Каждый фрейм состоит из служебной информации - например, адреса отправителя и адреса получателя, — а также самих данных.

Получается что-то вроде почтового конверта. На лицевой стороне у него написано, от кого пришло письмо, а внутри находится само письмо (в нашем случае данные).

Лицевая сторона конверта - это МАС-адрес устройства, которое отправило нам информацию. Он нужен, чтобы идентифицировать устройства в локальной сети, состоит из 48 или 64 бит и выглядит примерно так: 1d:85:25:11:2b:0а

Устройства канального уровня - коммутаторы и мосты. Они нужны, чтобы передавать фреймы нужному адресату. Протоколы канального уровня - PPP. CDP.

![5.2-й уровень OSI - канальный](attachments/5.2-й%20уровень%20OSI%20-%20канальный.png)


---

# 3-й уровень OSI - сетевой

Этот уровень отвечает за маршрутизацию данных внутри сети между компьютерами. Здесь уже появляются такие термины, как «маршрутизаторы» и «IP-адреса».

Маршрутизаторы позволяют разным сетям общаться друг с другом: они используют МАС-адреса, чтобы построить путь от одного устройства к другому.

Данные на сетевом уровне представляются в виде пакетов. Такие пакеты похожи на фреймы из канального уровня, но используют другие адреса получателя и отправителя - IP-адреса.

Чтобы получить IP-адрес обоих устройств (отправителя и получателя), существует протокол ARP (address resolution protocol). Он умеет конвертировать МАС- в ІР-адрес и наоборот.

![5.3-й уровень OSI - сетевой](attachments/5.3-й%20уровень%20OSI%20-%20сетевой.png)


---

# 4-й уровень OSI - транспортный

Из названия понятно, что на этом уровне происходит передача данных по сети. Так и есть. Два главных протокола здесь -

TCP и UDP. Они как раз и отвечают за то, как именно будут передаваться данные.

TCP (Transmission Control Protocol) - это протокол, который гарантирует доставку данных в корректном виде. Он жёстко следит за каждым битом информации, но работает гораздо медленнее UDP.

Например, когда вы вводите логин и пароль при входе в социальную сеть, очень важно, чтобы все символы отправились в определённой последовательности. Если какие-то потеряются или изменятся, вы просто не сможете авторизоваться.

Поэтому протокол ТСР использует разные методы проверок - например, контрольные суммы.

А вот в видео или аудио небольшие потери некритичны, зато важна скорость передачи данных. Для таких задач как раз и придумали протокол UDP (user datagram protocol). Он уже не проверяет цельность битов, его задача - как можно быстрее передать данные с одного устройства на другое.

В протоколе ТСР данные делятся на сегменты. Каждый сегмент - часть пакета. Сегменты нужны, чтобы передавать информацию по сети, учитывая её пропускную способность.

Например, если вы передаёте данные с компьютера, у которого пропускная способность 100 Мб/с, на смартфон с пропускной способность 10 Мб/с, то данные разделятся так, чтобы не застревать в самом медленном устройстве.

![5.4-й уровень OSI - транспортный](attachments/5.4-й%20уровень%20OSI%20-%20транспортный.png)


Ещё сегментация важна для надёжности. Один большой пакет может потеряться или направиться не тому адресату. А маленькие пакеты снижают риск подобных ошибок и даже позволяют проверять их количество. Если какой-то сегмент не получилось доставить, протокол ТСР может запросить его у отправителя снова. Так обеспечивается надёжность.

B UDP данные делятся на датаграммы - это примерно то же, что и пакет, только датаграммы автономны. Каждая датаграмма имеет всё необходимое, чтобы дойти до получателя. Поэтому они не зависят от сети и могут доставляться по разным маршрутам и в произвольном порядке.

## Протоколы

- **TCP (Transmission Control Protocol)** - это протокол, который гарантирует доставку данных в корректном виде. Он жёстко следит за каждым битом информации, но работает гораздо медленнее UDP.
- UDP (User Datagram Protocol) - это протокол транспортного уровня, который используется для передачи данных в сетях. В отличие от TCP, UDP не требует установления соединения и не гарантирует доставку пакетов.


---

# 5-й уровень OSI - сеансовый

Начиная с этого уровня и выше, данные имеют уже нормальный вид - например, привычных нам JPEG- или МР3-файлов.

Задача сети на этих уровнях - представить информацию в понятном для человека виде и сделать так, чтобы пользователь мог её как-то «потрогать».

Сеансовый уровень управляет соединениями, или сессиями. Типичный пример - звонок по Skype или Zoom. Когда вы звоните другому человеку, между вашими компьютерами устанавливается соединение, по которому передаются аудио и видео. Если такое соединение разорвать, то и ваш звонок прервётся.

На сеансовом уровне очень важно, чтобы соединение правильно установилось и поддерживалось. То есть механизмы протоколов должны проверить, что у обоих собеседников есть нужные кодеки и сигнал между устройствами присутствует.

![5.5-й уровень OSI - сеансовый](attachments/5.5-й%20уровень%20OSI%20-%20сеансовый.png)

## Протоколы

- **TCP (Transmission Control Protocol):** это основной протокол транспортного уровня, который обеспечивает надежную и упорядоченную передачу данных в сети. TCP используется для установки и поддержания сеансов между устройствами, обеспечивая высокую степень надежности и контроля за передачей данных.
- **SIP (Session Initiation Protocol):** протокол для управления сеансами в IP-сетях, используемый в VoIP и других мультимедийных приложениях. SIP позволяет устанавливать, управлять и завершать сеансы связи между клиентами или устройствами.
- **RTP (Real-time Transport Protocol):** протокол для передачи аудио и видео в реальном времени. RTP работает поверх UDP и используется вместе с SIP для передачи мультимедийных данных в сетях.
- **RPC (Remote Procedure Call) и Named Pipes:** RPC представляет собой механизм для вызова удаленных процедур или функций на других узлах сети, что позволяет приложениям взаимодействовать между собой через сеть. Named Pipes, в свою очередь, обеспечивают межпроцессное взаимодействие в операционных системах Windows посредством именованных каналов.

---

# 6-й уровень OSI - уровень представления данных

На этом уровне происходит преобразование форматов данных - их кодирование и сжатие. Например, полученные данные могут превратиться в GIF- или МР4-файл. То же самое происходит и в обратном порядке: когда пользователь отправляет файл другому человеку, данные сначала конвертируются в биты и сжимаются, а потом уже передаются на транспортный уровень.

Помимо кодировки и сжатия на уровне представления, данные могут шифроваться - если, конечно, это необходимо.

![5.6-й уровень OSI - уровень представления данных](attachments/5.6-й%20уровень%20OSI%20-%20уровень%20представления%20данных.png)


## Технологии и стандарты

- **HTML (HyperText Markup Language):** язык разметки для создания веб-страниц, который обеспечивает структуру и форматирование документов.
- **DOC:** формат текстовых документов, используемый в Microsoft Word и других текстовых редакторах.
- **JPEG (Joint Photographic Experts Group):** формат сжатия изображений с потерями, часто используемый для фотографий и изображений в сети интернет.
- **MP3 (MPEG Audio Layer III):** формат сжатия аудиофайлов с потерями, позволяющий эффективно передавать музыку и звуковые данные.
- **AVI (Audio Video Interleave):** формат для хранения видео и аудиоданных, разработанный компанией Microsoft.
- **Sockets:** интерфейс для обмена данными между приложениями через сеть, обеспечивающий поддержку различных протоколов передачи данных.

---

# 7-й уровень OSI - прикладной

Последний уровень модели OSI - прикладной. На нём находятся сетевые службы, которые помогают без проблем сёрфить в интернете.

Прикладной уровень похож на некий графический интерфейс для всей модели OSI - с его помощью пользователь взаимодействует с другими уровнями, даже не подозревая об этом. Этот интерфейс называется сетевым.

Самые популярные из сетевых интерфейсов - это НТТР, HTTPS, FTP и SMTP. А «устройства» здесь - это уже программы:

Zoom, Telegram, браузеры.

![5.7-й уровень OSI - прикладной](attachments/5.7-й%20уровень%20OSI%20-%20прикладной.png)


## Технологии и стандарты

- **DNS (Domain Name System):** система доменных имен, предназначенная для преобразования удобных для восприятия доменных имен в IP-адреса, используемые компьютерами для идентификации друг друга в сети.
- **WWW (World Wide Web):** Глобальная система объединённых компьютерных сетей, использующая протокол HTTP для обмена гипертекстовыми документами.
- **HTTP (HyperText Transfer Protocol):** Протокол для передачи гипертекстовых данных, используемый в интернете для доступа к веб-страницам и другим ресурсам.
- **P2P (Peer-to-Peer):** Сеть, в которой каждый узел может выступать в роли как клиента, так и сервера, обеспечивая прямой обмен данными между узлами.
- **EMAIL (electronic mail):** Система обмена электронными сообщениями, позволяющая пользователям отправлять и получать письма через интернет.
- **POP (Post Office Protocol):** Протокол для получения электронной почты с сервера, позволяющий пользователям загружать сообщения на свои устройства.
- **SMTP (Simple Mail Transfer Protocol):** Протокол для отправки электронной почты, используемый почтовыми серверами для пересылки сообщений.
- **TELNET (Teletype Network):** Протокол для удалённого доступа к устройствам через сеть, обеспечивающий удалённое управление и доступ к ресурсам.
- **SSH (Secure Shell):** Протокол для безопасного удалённого доступа к устройствам и управления ими через зашифрованное соединение.
- **FTP (File Transfer Protocol):** Протокол для передачи файлов, позволяющий пользователям загружать и скачивать файлы через сеть.
- **TFTP (Trivial File Transfer Protocol):** Упрощённый протокол передачи файлов, используемый для небольших и простых передач данных, таких как загрузка конфигураций.

---

# Как на практике работает сетевая модель OSI

В начале статьи мы задались вопросом: а как передаются сообщения в Telegram? Настало время на него ответить - и показать весь процесс передачи данных по модели OSI.

Мы хотим отправить сообщение нашему другу. Печатаем текст и нажимает кнопку «Отправить», а дальше перемещаемся внутрь компьютера.

==Прикладной уровень.== Приложение Telegram работает на прикладном уровне модели OSI. Когда мы печатаем текст сообщения и нажимаем кнопку «Отправить», эти данные передаются на сервер мессенджера, а оттуда - нашему другу.

Весь процесс проходит через АРІ разных библиотек - например, для НТТР-запросов. Интерфейсы позволяют без лишних

проблем обмениваться данными и не погружаться в то, как они представлены на низком уровне. Всё, что нужно знать, - это какую функцию вызвать и какие переменные туда передать.

==Уровень представления.== Здесь данные должны преобразоваться в унифицированный формат, чтобы их можно было передавать на разные устройства и операционные системы. Например, если мы отправляем сообщение с Windows на macOS, данные должны быть в читаемом для компьютеров Apple виде. Такая же ситуация и с другими устройствами.

Раз мы собираемся передать данные на другой компьютер, их нужно перевести в бинарный формат. После этого начнётся сам процесс передачи по сети.

==Сеансовый уровень.== Чтобы данные успешно передались сначала на сервер Telegram, а затем к нашему другу, приложению нужно установить соединение, или сеанс. Он обеспечивает синхронизацию между устройствами и восстанавливает связь, если она прервалась.

Благодаря сеансам вы можете видеть, что собеседник что-то печатает или отправляет вам картинки или видео. Но главная задача этого соединения - обеспечить стабильное соединение для передачи данных.

==Транспортный уровень==. Когда соединение установлено и данные унифицированы, пора передавать их. Этим занимается транспортный уровень.

Здесь данные разбиваются на сегменты и к ним добавляется дополнительная информация - например, номер порта и контрольные суммы. Всё это нужно, чтобы данные дошли до пользователя в целостности.

==Сетевой уровень.== Теперь данным нужно найти маршрут к устройству нашего друга, а затем отправить их по нему. Поэтому данные упаковываются в пакеты и к ним добавляются IP-адреса.

Чтобы получить ІР-адрес устройств, которым нужно отправить пакеты, маршрутизаторы (устройства сетевого уровня) обращаются к ARP. Этот протокол быстро найдёт адрес получателя и отдаст его нам.

==Канальный уровень.== Здесь данные передаются от одного МАС-адреса к другому. Изначальный текст делится на фреймы - с заголовками и контрольными суммами для проверки целостности данных.

==Физический уровень.== И на самом нижнем уровне данные в виде электрических сигналов передаются по проводам, кабелям или по радиоволнам. Тут только одна задача - как можно быстрее откликаться на сигналы свыше.

После прохождения всех уровней модели OSI сообщение успешно доставляется на устройство нашего друга. Правда, в реальности это занимает всего миллисекунды.

Что запомнить

Модель OSI описывает, как работает весь интернет: как электрические сигналы преобразуются в картинки с котиками и как устройства обмениваются этими данными.

Модель включает семь уровней:
1) физический;
2) канальный;
3) сетевой;
4) транспортный;
5) сеансовый;
6) представления;
7) прикладной.

На каждом уровне находятся определённые протоколы, которые помогают данным перемещаться или превращаться в удобный для пользователей формат.

---

# ТСР/ІР

## **Что такое ТСР/IP**
Модель ТСР/Р - это стек протоколов, которые задают правила передачи данных по Сети. Так как бал здесь правят протоколы ТСР и IP, в честь них и назвали всю модель.

### **TCP (Transmission Control Protocol)**
Отвечает за обмен данными. Он управляет их отправкой и следит за тем, чтобы они дошли до получателя в целости. У ТСР есть свои гарантии, что всё пройдёт успешно, — о них чуть позже.

### **IP (Internet Protocol)** 
Отвечает за адресацию. Его задача - связывать друг с другом устройства и нарезать данные на пакеты для удобной отправки. Чтобы протокол мог быстро найти дорогу от одного компьютера к другому, придумали IP-адреса - уникальные идентификаторы, которые есть у каждого устройства в Сети.

Эти два протокола работают в связке: IP строит маршрут, а ТСР контролирует, чтобы всё передавалось правильно. Условно их можно сравнить с тандемом Шерлока и Ватсона в бессмертной классике Дойля: первый решает проблему, а второй следит, чтобы тот не наделал глупостей и случайно не упал в Рейхенбахский водопад.

## **Минутка истории.** 
Оба протокола, и ТСР, и IP, на самом деле стары как мир. Их придумала ещё в семидесятых группа разработчиков под началом «отца интернета» Винта Сёрфа. То есть все наши смартфоны и умные часы общаются по правилам, которые заложили ещё во времена расцвета диско и космической миссии «Союз - Аполлон».

Но протоколами ТСР и IP модель не ограничивается - например, есть ещё НТ ТР, FTP, UDP и сотни других. Все они заточены под определённые задачи. Так, НТ ТР помогает браузеру формировать запросы к серверу, FTP — скачивать файлы, а UDP — быстро передавать видео, музыку и игры, но с возможными потерями по пути.

## **Что запомнить**

Модель ТСР/Р - это набор правил, по которым данные перемещаются по интернету. Главными здесь являются два протокола: ТСР и IP. Они нужны, чтобы устанавливать надёжный канал связи между устройствами и передавать по нему данные.

Кроме ТСР и IP в модели есть и другие протоколы - например, НТТР, Ethernet, FTP и UDP. Все они решают определённые задачи, связанные с доставкой данных от одного устройства к другому.

---

## Как работает ТСР/IР

Настало время посмотреть, как модель ТСР/Р работает в жизни. Допустим, вы заходите в интернет, чтобы почитать статью о том, как нейросети рисуют котиков. Запускаете браузер, открываете сайт Skillbox Media, нажимаете на заголовок статьи. А дальше начинается магия.

Как только вы кликнули на ссылку, браузер отправляет запрос на сервер, где лежит страница. Для этого он создаёт НТТР-запрос, в котором описывает всё, что сервер должен ему передать: «Я слышал, у тебя есть статья про генеративные нейронки. Дай, пожалуйста». Сервер отвечает: «Нет проблем» — и отправляет браузеру НТТР-ответ с нужными данными. И так они будут общаться до тех пор, пока вы не закроете сайт.

![5.8 Как работает ТСР_IР](attachments/5.8%20Как%20работает%20ТСР_IР.png)

Но сами по себе НТТР-запросы - это просто текстовые сообщения: они не знают, как найти сервер с нужной информацией, а тем более - как её оттуда достать. Для этих задач нам как раз и понадобятся протоколы ТСР и IP.

Сначала IP определяет расположение сервера - или, точнее сказать, его IP-адрес. Чтобы найти нужный «айпишник», протокол использует систему DNS. Это такая глобальная база данных, где доменные имена сайтов лежат напротив их IР-адресов - например, сайту skillbox.ru соответствует ІР-адрес 178.248.237.96.

Когда IP найдёт сервер и получит от него нужную страницу, он начнёт разбивать её на пакеты. Каждый пакет - это часть файла размером от 1 до 64 КБ. Внутри находятся сами данные и служебная информация: номер пакета, адреса отправителя и получателя и другое.

**Зачем нужны пакеты.** Представьте, что вам нужно перенести сразу много блюд из кухни в гостиную. Конечно, можно загрузить тарелки в обе руки, а часть поставить на голову, как делают женщины кенийского племени Луо, но, если вдруг в коридоре на вас нападёт кошка или младший брат с игрушечным пистолетом, есть риск всё выронить и испортить ужин.

Гораздо безопаснее переносить блюда по одному, а ещё лучше — раздать по тарелке каждому члену семьи.

С данными точно так же: лучше передавать их маленькими порциями, так как никогда не знаешь, где по пути случится проблема. Если что-то пойдёт не так, вы потеряете всего один пакет, а не весь файл целиком.

Чтобы пакеты без потерь долетали от сервера к пользователю, подключается протокол ТСР. Для этого в него зашили механизм подтверждения: когда сервер отправляет пакет, ТСР спрашивает у устройства пользователя, нормально ли он добрался. Если ответ «да», протокол отправляет следующую порцию, если «нет» - пробует ещё раз.

После того как все пакеты получены, браузер собирает из них цельную страницу и выводит на экран.

Повторим ещё раз весь процесс:

1. ﻿﻿﻿Вы нажимаете на ссылку или вводите адрес сайта в строке браузера.
2. ﻿﻿﻿Браузер создаёт НТТР-запрос к серверу, чтобы тот отправил вам нужную страницу.
3. ﻿﻿﻿Протокол IР с помощью системы DNS находит сервер, где лежит страница, и разбивает её на пакеты.
4. ﻿﻿﻿Далее в игру вступает ТСР - он устанавливает надёжное соединение между компьютером и сервером и следит, чтобы пакеты не потерялись по дороге.
5. ﻿﻿﻿Браузер склеивает пакеты воедино и рендерит страницу.

Этот алгоритм справедлив для статичных файлов - то есть таких, которые вы загружаете один раз и пользуетесь. Но если вы, например, хотите посмотреть видео, понадобится другой протокол - UDP. Он не гарантирует целостности данных и может потерять пакеты по пути, но это компенсируется скоростью передачи. Именно поэтому, например, вы видите пиксельные изображения, когда смотрите видео при плохом интернет-соединении.

---

## Из каких уровней состоит ТСР/IР

Пора окунуться в детали и узнать, как модель ТСР/IР устроена изнутри. Глобально она делится на четыре уровня:

Канальный уровень - отвечает за взаимодействие по сетевому оборудованию, например по Ethernet-кабелю или Wi-Fi;

Межсетевой уровень - помогает отдельным сетям общаться друг с другом;

Транспортный уровень - отвечает за передачу данных между устройствами, например, по протоколам ТСР и UDP;

Прикладной уровень - помогает приложениям общаться друг с другом с помощью интерфейсов или API.

На каждом уровне есть свои протоколы, которые обеспечивают надёжность передачи данных между компьютерами в Сети.
Всего модель ТСР/Р поддерживает сотни разных протоколов.

![5.9 Уровни ТСР_IР](attachments/5.9%20Уровни%20ТСР_IР.png)

---

# кАНАЛьный уровень

Для чего нужен: устанавливать физическое соединение между устройствами в локальной сети с помощью радиоволн и проводов.

Примеры протоколов: Ethernet, Wi-Fi, Bluetooth.

Как работает: данные делятся на небольшие кусочки (фреймы) и передаются между устройствами. Каждый фрейм содержит часть передаваемой информации и служебные данные.

Чтобы понять, куда отправлять фреймы, используют адресацию канального уровня - МАС-адреса. Это уникальные физические адреса устройств - по ним протоколы канального уровня определяют отправителей и получателей.

Ещё одна важная задача канального уровня - проверять, что данные передаются безошибочно. Для этого протоколы используют свои средства проверки:

Если возникла ошибка, устройство отправляет фрейм обратно, а второе устройство передаёт его ещё раз.

Если всё прошло удачно, то фрейм передаётся на следующий уровень для обработки.

![5.10 кАНАЛьный уровень](attachments/5.10%20кАНАЛьный%20уровень.png)

---

# Транспортный уровень

Для чего нужен: передавать данные по маршруту, построенному на предыдущем уровне.

Примеры протоколов: ТСР, UDP.

Как работает: устанавливает надёжное соединение между устройствами, а затем следит за передачей данных по нему и исправляет ошибки.

Главных протокола здесь два:

TCP (Transmission Control Protocol) - гарантирует передачу всех данных без потерь. Полезен при отправке текстовых файлов.

UDP (User Datagram Protocol) - не гарантирует передачу данных без потерь, но обеспечивает хорошую скорость. Полезен при просмотре видео или прослушивании музыки в интернете.

![5.11 Транспортный уровень](attachments/5.11%20Транспортный%20уровень.png)

---
# Прикладной уровень

Для чего нужен: настраивать связи между приложениями - например, между браузером и серверным софтом.

Примеры протоколов: HTTP, FTP, SMTP.

Как работает: использует различные протоколы и сервисы, которые помогают приложениям обмениваться данными по интернету.

На прикладном уровне хранятся протоколы для всего, что нужно человеку: отправки имейлов, веб-браузинга, передачи файлов и удалённого доступа. Вот некоторые из них:

**HTTP (Hypertext Transfer Protocol)** - самый популярный протокол для передачи данных по интернету.
**FTP (File Transfer Protocol)** - ещё один известный протокол, заточенный под передачу файлов.
**SMTP (Simple Mail Transfer Protocol)** - протокол для отправки электронных писем.

Этот уровень нужен, чтобы упростить пользователям передачу данных по интернету. Именно с его помощью программисты и обычные пользователи взаимодействуют с моделью ТСР/IP.

---
# FTP

## Что такое FTP

FTP - это протокол для передачи данных через интернет. Аббревиатура расшифровывается как File Transfer Protocol, в переводе - «протокол передачи данных». С его помощью можно скачать или отправить что угодно: видео, музыку, программы, изображения.

В процедуре передачи файлов участвуют два игрока - клиент и сервер. Первый отправляет запрос в виде команды, а второй обрабатывает её и возвращает ответ в виде файла или сообщения об ошибке. При этом сервером может быть и обычный ПК, а не только классический веб-сервер.

Чтобы удостовериться, что клиент может скачивать файлы, при подключении сервер просит ввести логин и пароль. Но это не всегда обязательно - FTP поддерживает и анонимный режим, когда подключиться к серверу можно без авторизации.

![5.12 FTP](attachments/5.12%20FTP.png)

---
Давайте посмотрим, как работает FTP на примере жизненной ситуации.

Допустим, вы работаете программистом в IТ-компании. Весь код и все файлы хранятся в локальном хранилище - на внутреннем сервере, который доступен только сотрудникам. Чтобы начать работу, нужно перенести рабочие файлы себе на компьютер, а для этого - подключиться к серверу.

Задача понятна - открываем консоль и устанавливаем соединение через FTP для доступа к хранилищу. Перед этим нужно запросить логин и пароль от него, иначе не удастся подключиться. Как только вы авторизуетесь, вам будут доступны все файлы на сервере - или те, к которым вам выдадут доступ. Чтобы скачать их, нужно ввести ещё пару команд и дождаться загрузки. Готово!

![5.13 как работает FTP](attachments/5.13%20как%20работает%20FTP.png)

---

# Чем FTP отличается от НТТР

В интернете есть два популярных протокола для передачи данных: FTP и НТТР. Оба решают примерно одинаковые задачи, но всё же различаются в назначении.

**FTP** изначально создавался для обмена данными между компьютерами. Он использует два соединения: одно для передачи, а другое — для управления. Идея в том, что FTP умеет следить, как выполняются длинные запросы — например, передача больших файлов или управление данными на сервере.

**НТТР** заточен на передачу гипертекстовых документов - то есть сайтов и веб-страниц. Он использует всего одно соединение, по которому запросы летают между клиентом и сервером. Ему не нужно устраивать длинные сеансы обмена данными: просто отдал нужную страничку и забыл.

Иначе говоря, FTP ориентирован на долгое и «вдумчивое» взаимодействие сервера и клиента: он помнит, кто, кому, когда и что передал. У НТТР другая задача - управлять запросами в интернете. В отличие от FTP, он не хранит состояние сессии, зато работает быстрее - а это как раз то, что нужно для веба.

## Плюсы и минусы FTP 

**ПЛЮСЫ:**
- Передавать файлы на другие компьютеры. Это удобно, когда вам нужно, например, загрузить файлы на сервер сайта или отправить видео другу. Просто подключились, отправили, остались довольны.
- Резервное копирование. Чтобы не потерять файлы, вы можете сделать их бэкап на удалённый компьютер.
- Удалённый доступ к файлам. FTP можно превратить в замену Google Drive или «Яндекс Диска»: берём удалённый компьютер, загружаем туда файлы и достаём по мере необходимости.

**МИНУСЫ:**
- Отсутствие адекватной защиты. Когда вы подключаетесь к серверу, данные отправляются по сети в незашифрованном виде: в том числе логины, пароли и сами файлы. Плюс в FTP нет никакой защиты от брутфорса - то есть пароль к серверу можно подобрать обычным перебором.
- Неэффективная передача файлов. Для каждой операции передачи FTP требует установки нового соединения. Если вы хотите передавать несколько файлов одновременно, это может привести к задержкам и увеличению нагрузки на сеть - особенно при передаче больших файлов.
- Разрыв соединения при ошибке. Если передача данных прервётся по какой-то причине, то весь процесс придётся начинать сначала.

---
# Полезные материалы для урока

- [Сложно о простом. Физический уровень (L1) модели OSI](https://habr.com/ru/companies/timeweb/articles/825344/)
- [Сложно о простом. Канальный уровень (L2) модели OSI](https://habr.com/ru/companies/timeweb/articles/826218/)
- [Сложно о простом. Сетевой уровень (L3) модели OSI](https://habr.com/ru/companies/timeweb/articles/830178/)
- [Сложно о простом. Транспортный уровень (L4) модели OSI](https://habr.com/ru/companies/timeweb/articles/830306/)
- [Сложно о простом. Сеансовый уровень (L5), представительный (L6) уровень и прикладной (L7) уровень](https://habr.com/ru/companies/timeweb/articles/830308/)